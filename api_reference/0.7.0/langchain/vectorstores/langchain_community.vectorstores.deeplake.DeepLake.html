

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <title>langchain_community.vectorstores.deeplake.DeepLake &mdash; ü¶úüîó LangChain 0.1.4</title>
  
  <link rel="canonical" href="https://api.python.langchain.com/en/latest/vectorstores/langchain_community.vectorstores.deeplake.DeepLake.html" />

  

  <link rel="stylesheet" href="../_static/css/vendor/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/autodoc_pydantic.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx-dropdown.css" type="text/css" />
  <link rel="stylesheet" href="../_static/panels-bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
<script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
<script src="../_static/jquery.js"></script> 
</head>
<body>


<nav id="navbar" class="sk-docs-navbar navbar navbar-expand-md navbar-light bg-light py-0">
  <div class="container-fluid sk-docs-container px-0">
    <button
      id="sk-navbar-toggler"
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="sk-navbar-collapse collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../langchain_api_reference.html">LangChain</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../core_api_reference.html">Core</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../community_api_reference.html">Community</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../experimental_api_reference.html">Experimental</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../robocorp_api_reference.html">robocorp</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../openai_api_reference.html">openai</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../together_api_reference.html">together</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../google_genai_api_reference.html">google-genai</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../nvidia_ai_endpoints_api_reference.html">nvidia-ai-endpoints</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../google_vertexai_api_reference.html">google-vertexai</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../anthropic_api_reference.html">anthropic</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../exa_api_reference.html">exa</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../mistralai_api_reference.html">mistralai</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../nvidia_trt_api_reference.html">nvidia-trt</a>
        </li>
        <li class="nav-item dropdown nav-more-item-dropdown">
          <a class="sk-nav-link nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Partner libs</a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="sk-nav-dropdown-item dropdown-item" href="../robocorp_api_reference.html">robocorp</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../openai_api_reference.html">openai</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../together_api_reference.html">together</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../google_genai_api_reference.html">google-genai</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../nvidia_ai_endpoints_api_reference.html">nvidia-ai-endpoints</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../google_vertexai_api_reference.html">google-vertexai</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../anthropic_api_reference.html">anthropic</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../exa_api_reference.html">exa</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../mistralai_api_reference.html">mistralai</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../nvidia_trt_api_reference.html">nvidia-trt</a>
          </div>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" target="_blank" rel="noopener noreferrer" href="https://python.langchain.com/">Docs</a>
        </li>
      </ul>
      <div id="searchbox" role="search">
          <div class="searchformwrapper">
          <form class="search" action="../search.html" method="get">
            <input class="sk-search-text-input" type="text" name="q" aria-labelledby="searchlabel" />
            <input class="sk-search-text-btn" type="submit" value="Go" />
          </form>
          </div>
      </div>
    </div>
  </div>
</nav>
<div class="d-flex" id="sk-doc-wrapper">
    <input type="checkbox" name="sk-toggle-checkbox" id="sk-toggle-checkbox">
    <label id="sk-sidemenu-toggle" class="sk-btn-toggle-toc btn sk-btn-primary" for="sk-toggle-checkbox">Toggle Menu</label>
    <div id="sk-sidebar-wrapper" class="border-right">
      <div class="sk-sidebar-toc-wrapper">
        <div class="btn-group w-100 mb-2" role="group" aria-label="rellinks">
            <a href="#" role="button" class="btn sk-btn-rellink py-1 disabled"">Prev</a>
            <a href="#" role="button" class="btn sk-btn-rellink disabled py-1">Up</a>
            <a href="#" role="button" class="btn sk-btn-rellink py-1 disabled"">Next</a>
        </div>
            <div class="sk-sidebar-toc">
              <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">langchain_community.vectorstores.deeplake</span></code>.DeepLake</a><ul>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake"><code class="docutils literal notranslate"><span class="pre">DeepLake</span></code></a><ul>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.__init__"><code class="docutils literal notranslate"><span class="pre">DeepLake.__init__()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.aadd_documents"><code class="docutils literal notranslate"><span class="pre">DeepLake.aadd_documents()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.aadd_texts"><code class="docutils literal notranslate"><span class="pre">DeepLake.aadd_texts()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.add_documents"><code class="docutils literal notranslate"><span class="pre">DeepLake.add_documents()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.add_texts"><code class="docutils literal notranslate"><span class="pre">DeepLake.add_texts()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.adelete"><code class="docutils literal notranslate"><span class="pre">DeepLake.adelete()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.afrom_documents"><code class="docutils literal notranslate"><span class="pre">DeepLake.afrom_documents()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.afrom_texts"><code class="docutils literal notranslate"><span class="pre">DeepLake.afrom_texts()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.amax_marginal_relevance_search"><code class="docutils literal notranslate"><span class="pre">DeepLake.amax_marginal_relevance_search()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.amax_marginal_relevance_search_by_vector"><code class="docutils literal notranslate"><span class="pre">DeepLake.amax_marginal_relevance_search_by_vector()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.as_retriever"><code class="docutils literal notranslate"><span class="pre">DeepLake.as_retriever()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.asearch"><code class="docutils literal notranslate"><span class="pre">DeepLake.asearch()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search"><code class="docutils literal notranslate"><span class="pre">DeepLake.asimilarity_search()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_by_vector"><code class="docutils literal notranslate"><span class="pre">DeepLake.asimilarity_search_by_vector()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_with_relevance_scores"><code class="docutils literal notranslate"><span class="pre">DeepLake.asimilarity_search_with_relevance_scores()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_with_score"><code class="docutils literal notranslate"><span class="pre">DeepLake.asimilarity_search_with_score()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.delete"><code class="docutils literal notranslate"><span class="pre">DeepLake.delete()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.delete_dataset"><code class="docutils literal notranslate"><span class="pre">DeepLake.delete_dataset()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.ds"><code class="docutils literal notranslate"><span class="pre">DeepLake.ds()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.force_delete_by_path"><code class="docutils literal notranslate"><span class="pre">DeepLake.force_delete_by_path()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.from_documents"><code class="docutils literal notranslate"><span class="pre">DeepLake.from_documents()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.from_texts"><code class="docutils literal notranslate"><span class="pre">DeepLake.from_texts()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.max_marginal_relevance_search"><code class="docutils literal notranslate"><span class="pre">DeepLake.max_marginal_relevance_search()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.max_marginal_relevance_search_by_vector"><code class="docutils literal notranslate"><span class="pre">DeepLake.max_marginal_relevance_search_by_vector()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.search"><code class="docutils literal notranslate"><span class="pre">DeepLake.search()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search"><code class="docutils literal notranslate"><span class="pre">DeepLake.similarity_search()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search_by_vector"><code class="docutils literal notranslate"><span class="pre">DeepLake.similarity_search_by_vector()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search_with_relevance_scores"><code class="docutils literal notranslate"><span class="pre">DeepLake.similarity_search_with_relevance_scores()</span></code></a></li>
<li><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search_with_score"><code class="docutils literal notranslate"><span class="pre">DeepLake.similarity_search_with_score()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
      </div>
    </div>
    <div id="sk-page-content-wrapper">
      <div class="sk-page-content container-fluid body px-md-3" role="main">
        
  <section id="langchain-community-vectorstores-deeplake-deeplake">
<h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">langchain_community.vectorstores.deeplake</span></code>.DeepLake<a class="headerlink" href="#langchain-community-vectorstores-deeplake-deeplake" title="Permalink to this heading">¬∂</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain_community.vectorstores.deeplake.</span></span><span class="sig-name descname"><span class="pre">DeepLake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'./deeplake/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><span class="pre">Embeddings</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding_function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><span class="pre">Embeddings</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ingestion_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_workers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exec_option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake" title="Permalink to this definition">¬∂</a></dt>
<dd><p><cite>Activeloop Deep Lake</cite> vector store.</p>
<p>We integrated deeplake‚Äôs similarity search and filtering for fast prototyping.
Now, it supports Tensor Query Language (TQL) for production use cases
over billion rows.</p>
<p>Why Deep Lake?</p>
<ul class="simple">
<li><p>Not only stores embeddings, but also the original data with version control.</p></li>
<li><dl class="simple">
<dt>Serverless, doesn‚Äôt require another service and can be used with major</dt><dd><p>cloud providers (S3, GCS, etc.)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>More than just a multi-modal vector store. You can use the dataset</dt><dd><p>to fine-tune your own LLM models.</p>
</dd>
</dl>
</li>
</ul>
<p>To use, you should have the <code class="docutils literal notranslate"><span class="pre">deeplake</span></code> python package installed.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">langchain_community.vectorstores</span> <span class="kn">import</span> <span class="n">DeepLake</span>
<span class="kn">from</span> <span class="nn">langchain_community.embeddings.openai</span> <span class="kn">import</span> <span class="n">OpenAIEmbeddings</span>

<span class="n">embeddings</span> <span class="o">=</span> <span class="n">OpenAIEmbeddings</span><span class="p">()</span>
<span class="n">vectorstore</span> <span class="o">=</span> <span class="n">DeepLake</span><span class="p">(</span><span class="s2">&quot;langchain_store&quot;</span><span class="p">,</span> <span class="n">embeddings</span><span class="o">.</span><span class="n">embed_query</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates an empty DeepLakeVectorStore or loads an existing one.</p>
<p>The DeepLakeVectorStore is located at the specified <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a vector store with default tensors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deeplake_vectorstore</span> <span class="o">=</span> <span class="n">DeepLake</span><span class="p">(</span>
<span class="gp">... </span>       <span class="n">path</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">path_for_storing_Data</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a vector store in the Deep Lake Managed Tensor Database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">DeepLake</span><span class="p">(</span>
<span class="gp">... </span>       <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;hub://org_id/dataset_name&quot;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="n">runtime</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;tensor_db&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_path</strong> (<em>str</em>) ‚Äì Path to existing dataset or where to create
a new one. Defaults to _LANGCHAIN_DEFAULT_DEEPLAKE_PATH.</p></li>
<li><p><strong>token</strong> (<em>str</em><em>, </em><em>optional</em>) ‚Äì Activeloop token, for fetching credentials
to the dataset at path if it is a Deep Lake dataset.
Tokens are normally autogenerated. Optional.</p></li>
<li><p><strong>embedding</strong> (<a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><em>Embeddings</em></a><em>, </em><em>optional</em>) ‚Äì Function to convert
either documents or query. Optional.</p></li>
<li><p><strong>embedding_function</strong> (<a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><em>Embeddings</em></a><em>, </em><em>optional</em>) ‚Äì Function to convert
either documents or query. Optional. Deprecated: keeping this
parameter for backwards compatibility.</p></li>
<li><p><strong>read_only</strong> (<em>bool</em>) ‚Äì Open dataset in read-only mode. Default is False.</p></li>
<li><p><strong>ingestion_batch_size</strong> (<em>int</em>) ‚Äì During data ingestion, data is divided
into batches. Batch size is the size of each batch.
Default is 1000.</p></li>
<li><p><strong>num_workers</strong> (<em>int</em>) ‚Äì Number of workers to use during data ingestion.
Default is 0.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) ‚Äì Print dataset summary after each operation.
Default is True.</p></li>
<li><p><strong>exec_option</strong> (<em>str</em><em>, </em><em>optional</em>) ‚Äì <p>DeepLakeVectorStore supports 3 ways to perform
searching - ‚Äúpython‚Äù, ‚Äúcompute_engine‚Äù, ‚Äútensor_db‚Äù and auto.
Default is None.
- <code class="docutils literal notranslate"><span class="pre">auto</span></code>- Selects the best execution method based on the storage</p>
<blockquote>
<div><p>location of the Vector Store. It is the default option.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">python</span></code> - Pure-python implementation that runs on the client.</dt><dd><p>WARNING: using this with big datasets can lead to memory
issues. Data can be stored anywhere.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">compute_engine</span></code> - C++ implementation of the Deep Lake Compute</dt><dd><p>Engine that runs on the client. Can be used for any data stored in
or connected to Deep Lake. Not for in-memory or local datasets.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">tensor_db</span></code> - Hosted Managed Tensor Database that is</dt><dd><p>responsible for storage and query execution. Only for data stored in
the Deep Lake Managed Database. Use runtime = {‚Äúdb_engine‚Äù: True}
during dataset creation.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>runtime</strong> (<em>Dict</em><em>, </em><em>optional</em>) ‚Äì Parameters for creating the Vector Store in
Deep Lake‚Äôs Managed Tensor Database. Not applicable when loading an
existing Vector Store. To create a Vector Store in the Managed Tensor
Database, set <cite>runtime = {‚Äútensor_db‚Äù: True}</cite>.</p></li>
<li><p><strong>index_params</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>]</em><em>]</em><em>]</em><em>, </em><em>optional</em>) ‚Äì <p>Dictionary
containing information about vector index that will be created. Defaults
to None, which will utilize <code class="docutils literal notranslate"><span class="pre">DEFAULT_VECTORSTORE_INDEX_PARAMS</span></code> from
<code class="docutils literal notranslate"><span class="pre">deeplake.constants</span></code>. The specified key-values override the default
ones.
- threshold: The threshold for the dataset size above which an index</p>
<blockquote>
<div><p>will be created for the embedding tensor. When the threshold value
is set to -1, index creation is turned off. Defaults to -1, which
turns off the index.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>distance_metric: This key specifies the method of calculating the</dt><dd><p>distance between vectors when creating the vector database (VDB)
index. It can either be a string that corresponds to a member of
the DistanceType enumeration, or the string value itself.
- If no value is provided, it defaults to ‚ÄúL2‚Äù.
- ‚ÄúL2‚Äù corresponds to DistanceType.L2_NORM.
- ‚ÄúCOS‚Äù corresponds to DistanceType.COSINE_SIMILARITY.</p>
</dd>
</dl>
</li>
<li><p>additional_params: Additional parameters for fine-tuning the index.</p></li>
</ul>
</p></li>
<li><p><strong>**kwargs</strong> ‚Äì Other optional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> ‚Äì If some condition is not met.</p>
</dd>
</dl>
<p class="rubric">Attributes</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">embeddings</span></code></p></td>
<td><p>Access the query embedding object if available.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.__init__" title="langchain_community.vectorstores.deeplake.DeepLake.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([dataset_path,¬†token,¬†embedding,¬†...])</p></td>
<td><p>Creates an empty DeepLakeVectorStore or loads an existing one.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.aadd_documents" title="langchain_community.vectorstores.deeplake.DeepLake.aadd_documents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aadd_documents</span></code></a>(documents,¬†**kwargs)</p></td>
<td><p>Run more documents through the embeddings and add to the vectorstore.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.aadd_texts" title="langchain_community.vectorstores.deeplake.DeepLake.aadd_texts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aadd_texts</span></code></a>(texts[,¬†metadatas])</p></td>
<td><p>Run more texts through the embeddings and add to the vectorstore.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.add_documents" title="langchain_community.vectorstores.deeplake.DeepLake.add_documents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_documents</span></code></a>(documents,¬†**kwargs)</p></td>
<td><p>Run more documents through the embeddings and add to the vectorstore.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.add_texts" title="langchain_community.vectorstores.deeplake.DeepLake.add_texts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_texts</span></code></a>(texts[,¬†metadatas,¬†ids])</p></td>
<td><p>Run more texts through the embeddings and add to the vectorstore.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.adelete" title="langchain_community.vectorstores.deeplake.DeepLake.adelete"><code class="xref py py-obj docutils literal notranslate"><span class="pre">adelete</span></code></a>([ids])</p></td>
<td><p>Delete by vector ID or other criteria.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.afrom_documents" title="langchain_community.vectorstores.deeplake.DeepLake.afrom_documents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">afrom_documents</span></code></a>(documents,¬†embedding,¬†**kwargs)</p></td>
<td><p>Return VectorStore initialized from documents and embeddings.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.afrom_texts" title="langchain_community.vectorstores.deeplake.DeepLake.afrom_texts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">afrom_texts</span></code></a>(texts,¬†embedding[,¬†metadatas])</p></td>
<td><p>Return VectorStore initialized from texts and embeddings.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.amax_marginal_relevance_search" title="langchain_community.vectorstores.deeplake.DeepLake.amax_marginal_relevance_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">amax_marginal_relevance_search</span></code></a>(query[,¬†k,¬†...])</p></td>
<td><p>Return docs selected using the maximal marginal relevance.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.amax_marginal_relevance_search_by_vector" title="langchain_community.vectorstores.deeplake.DeepLake.amax_marginal_relevance_search_by_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">amax_marginal_relevance_search_by_vector</span></code></a>(...)</p></td>
<td><p>Return docs selected using the maximal marginal relevance.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.as_retriever" title="langchain_community.vectorstores.deeplake.DeepLake.as_retriever"><code class="xref py py-obj docutils literal notranslate"><span class="pre">as_retriever</span></code></a>(**kwargs)</p></td>
<td><p>Return VectorStoreRetriever initialized from this VectorStore.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.asearch" title="langchain_community.vectorstores.deeplake.DeepLake.asearch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asearch</span></code></a>(query,¬†search_type,¬†**kwargs)</p></td>
<td><p>Return docs most similar to query using specified search type.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search" title="langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asimilarity_search</span></code></a>(query[,¬†k])</p></td>
<td><p>Return docs most similar to query.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_by_vector" title="langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_by_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asimilarity_search_by_vector</span></code></a>(embedding[,¬†k])</p></td>
<td><p>Return docs most similar to embedding vector.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_with_relevance_scores" title="langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_with_relevance_scores"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asimilarity_search_with_relevance_scores</span></code></a>(query)</p></td>
<td><p>Return docs and relevance scores in the range [0, 1], asynchronously.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_with_score" title="langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_with_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asimilarity_search_with_score</span></code></a>(*args,¬†**kwargs)</p></td>
<td><p>Run similarity search with distance asynchronously.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.delete" title="langchain_community.vectorstores.deeplake.DeepLake.delete"><code class="xref py py-obj docutils literal notranslate"><span class="pre">delete</span></code></a>([ids])</p></td>
<td><p>Delete the entities in the dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.delete_dataset" title="langchain_community.vectorstores.deeplake.DeepLake.delete_dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">delete_dataset</span></code></a>()</p></td>
<td><p>Delete the collection.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.ds" title="langchain_community.vectorstores.deeplake.DeepLake.ds"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ds</span></code></a>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.force_delete_by_path" title="langchain_community.vectorstores.deeplake.DeepLake.force_delete_by_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">force_delete_by_path</span></code></a>(path)</p></td>
<td><p>Force delete dataset by path.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.from_documents" title="langchain_community.vectorstores.deeplake.DeepLake.from_documents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_documents</span></code></a>(documents,¬†embedding,¬†**kwargs)</p></td>
<td><p>Return VectorStore initialized from documents and embeddings.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.from_texts" title="langchain_community.vectorstores.deeplake.DeepLake.from_texts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_texts</span></code></a>(texts[,¬†embedding,¬†metadatas,¬†...])</p></td>
<td><p>Create a Deep Lake dataset from a raw documents.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.max_marginal_relevance_search" title="langchain_community.vectorstores.deeplake.DeepLake.max_marginal_relevance_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">max_marginal_relevance_search</span></code></a>(query[,¬†k,¬†...])</p></td>
<td><p>Return docs selected using maximal marginal relevance.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.max_marginal_relevance_search_by_vector" title="langchain_community.vectorstores.deeplake.DeepLake.max_marginal_relevance_search_by_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">max_marginal_relevance_search_by_vector</span></code></a>(...)</p></td>
<td><p>Return docs selected using the maximal marginal relevance.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.search" title="langchain_community.vectorstores.deeplake.DeepLake.search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search</span></code></a>(query,¬†search_type,¬†**kwargs)</p></td>
<td><p>Return docs most similar to query using specified search type.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search" title="langchain_community.vectorstores.deeplake.DeepLake.similarity_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">similarity_search</span></code></a>(query[,¬†k])</p></td>
<td><p>Return docs most similar to query.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search_by_vector" title="langchain_community.vectorstores.deeplake.DeepLake.similarity_search_by_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">similarity_search_by_vector</span></code></a>(embedding[,¬†k])</p></td>
<td><p>Return docs most similar to embedding vector.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search_with_relevance_scores" title="langchain_community.vectorstores.deeplake.DeepLake.similarity_search_with_relevance_scores"><code class="xref py py-obj docutils literal notranslate"><span class="pre">similarity_search_with_relevance_scores</span></code></a>(query)</p></td>
<td><p>Return docs and relevance scores in the range [0, 1].</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search_with_score" title="langchain_community.vectorstores.deeplake.DeepLake.similarity_search_with_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">similarity_search_with_score</span></code></a>(query[,¬†k])</p></td>
<td><p>Run similarity search with Deep Lake with distance returned.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'./deeplake/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><span class="pre">Embeddings</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding_function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><span class="pre">Embeddings</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ingestion_batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_workers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exec_option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.__init__" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Creates an empty DeepLakeVectorStore or loads an existing one.</p>
<p>The DeepLakeVectorStore is located at the specified <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a vector store with default tensors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deeplake_vectorstore</span> <span class="o">=</span> <span class="n">DeepLake</span><span class="p">(</span>
<span class="gp">... </span>       <span class="n">path</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">path_for_storing_Data</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a vector store in the Deep Lake Managed Tensor Database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">DeepLake</span><span class="p">(</span>
<span class="gp">... </span>       <span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;hub://org_id/dataset_name&quot;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="n">runtime</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;tensor_db&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_path</strong> (<em>str</em>) ‚Äì Path to existing dataset or where to create
a new one. Defaults to _LANGCHAIN_DEFAULT_DEEPLAKE_PATH.</p></li>
<li><p><strong>token</strong> (<em>str</em><em>, </em><em>optional</em>) ‚Äì Activeloop token, for fetching credentials
to the dataset at path if it is a Deep Lake dataset.
Tokens are normally autogenerated. Optional.</p></li>
<li><p><strong>embedding</strong> (<a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><em>Embeddings</em></a><em>, </em><em>optional</em>) ‚Äì Function to convert
either documents or query. Optional.</p></li>
<li><p><strong>embedding_function</strong> (<a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><em>Embeddings</em></a><em>, </em><em>optional</em>) ‚Äì Function to convert
either documents or query. Optional. Deprecated: keeping this
parameter for backwards compatibility.</p></li>
<li><p><strong>read_only</strong> (<em>bool</em>) ‚Äì Open dataset in read-only mode. Default is False.</p></li>
<li><p><strong>ingestion_batch_size</strong> (<em>int</em>) ‚Äì During data ingestion, data is divided
into batches. Batch size is the size of each batch.
Default is 1000.</p></li>
<li><p><strong>num_workers</strong> (<em>int</em>) ‚Äì Number of workers to use during data ingestion.
Default is 0.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) ‚Äì Print dataset summary after each operation.
Default is True.</p></li>
<li><p><strong>exec_option</strong> (<em>str</em><em>, </em><em>optional</em>) ‚Äì <p>DeepLakeVectorStore supports 3 ways to perform
searching - ‚Äúpython‚Äù, ‚Äúcompute_engine‚Äù, ‚Äútensor_db‚Äù and auto.
Default is None.
- <code class="docutils literal notranslate"><span class="pre">auto</span></code>- Selects the best execution method based on the storage</p>
<blockquote>
<div><p>location of the Vector Store. It is the default option.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">python</span></code> - Pure-python implementation that runs on the client.</dt><dd><p>WARNING: using this with big datasets can lead to memory
issues. Data can be stored anywhere.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">compute_engine</span></code> - C++ implementation of the Deep Lake Compute</dt><dd><p>Engine that runs on the client. Can be used for any data stored in
or connected to Deep Lake. Not for in-memory or local datasets.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">tensor_db</span></code> - Hosted Managed Tensor Database that is</dt><dd><p>responsible for storage and query execution. Only for data stored in
the Deep Lake Managed Database. Use runtime = {‚Äúdb_engine‚Äù: True}
during dataset creation.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>runtime</strong> (<em>Dict</em><em>, </em><em>optional</em>) ‚Äì Parameters for creating the Vector Store in
Deep Lake‚Äôs Managed Tensor Database. Not applicable when loading an
existing Vector Store. To create a Vector Store in the Managed Tensor
Database, set <cite>runtime = {‚Äútensor_db‚Äù: True}</cite>.</p></li>
<li><p><strong>index_params</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Union</em><em>[</em><em>int</em><em>, </em><em>str</em><em>]</em><em>]</em><em>]</em><em>, </em><em>optional</em>) ‚Äì <p>Dictionary
containing information about vector index that will be created. Defaults
to None, which will utilize <code class="docutils literal notranslate"><span class="pre">DEFAULT_VECTORSTORE_INDEX_PARAMS</span></code> from
<code class="docutils literal notranslate"><span class="pre">deeplake.constants</span></code>. The specified key-values override the default
ones.
- threshold: The threshold for the dataset size above which an index</p>
<blockquote>
<div><p>will be created for the embedding tensor. When the threshold value
is set to -1, index creation is turned off. Defaults to -1, which
turns off the index.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>distance_metric: This key specifies the method of calculating the</dt><dd><p>distance between vectors when creating the vector database (VDB)
index. It can either be a string that corresponds to a member of
the DistanceType enumeration, or the string value itself.
- If no value is provided, it defaults to ‚ÄúL2‚Äù.
- ‚ÄúL2‚Äù corresponds to DistanceType.L2_NORM.
- ‚ÄúCOS‚Äù corresponds to DistanceType.COSINE_SIMILARITY.</p>
</dd>
</dl>
</li>
<li><p>additional_params: Additional parameters for fine-tuning the index.</p></li>
</ul>
</p></li>
<li><p><strong>**kwargs</strong> ‚Äì Other optional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> ‚Äì If some condition is not met.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.aadd_documents">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aadd_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.aadd_documents" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Run more documents through the embeddings and add to the vectorstore.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>(</strong><strong>List</strong><strong>[</strong><strong>Document</strong><strong>]</strong> (<em>documents</em>) ‚Äì Documents to add to the vectorstore.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of IDs of the added texts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.aadd_texts">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aadd_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadatas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.aadd_texts" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Run more texts through the embeddings and add to the vectorstore.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.add_documents">
<span class="sig-name descname"><span class="pre">add_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.add_documents" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Run more documents through the embeddings and add to the vectorstore.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>(</strong><strong>List</strong><strong>[</strong><strong>Document</strong><strong>]</strong> (<em>documents</em>) ‚Äì Documents to add to the vectorstore.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of IDs of the added texts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.add_texts">
<span class="sig-name descname"><span class="pre">add_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadatas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.add_texts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.add_texts" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Run more texts through the embeddings and add to the vectorstore.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">deeplake_vectorstore</span><span class="o">.</span><span class="n">add_texts</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">texts</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">list_of_texts</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">metadatas</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">list_of_metadata_jsons</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">ids</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">list_of_ids</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) ‚Äì Texts to add to the vectorstore.</p></li>
<li><p><strong>metadatas</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>dict</em><em>]</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Optional list of metadatas.</p></li>
<li><p><strong>ids</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) ‚Äì Optional list of IDs.</p></li>
<li><p><strong>embedding_function</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><em>Embeddings</em></a><em>]</em><em>, </em><em>optional</em>) ‚Äì Embedding function
to use to convert the text into embeddings.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) ‚Äì Any additional keyword arguments passed is not supported
by this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of IDs of the added texts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.adelete">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">adelete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.adelete" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Delete by vector ID or other criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ids</strong> ‚Äì List of ids to delete.</p></li>
<li><p><strong>**kwargs</strong> ‚Äì Other keyword arguments that subclasses might use.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if deletion is successful,
False otherwise, None if not implemented.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[bool]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.afrom_documents">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">afrom_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><span class="pre">Embeddings</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VST</span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.afrom_documents" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return VectorStore initialized from documents and embeddings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.afrom_texts">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">afrom_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><span class="pre">Embeddings</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadatas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VST</span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.afrom_texts" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return VectorStore initialized from texts and embeddings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.amax_marginal_relevance_search">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">amax_marginal_relevance_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.amax_marginal_relevance_search" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs selected using the maximal marginal relevance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.amax_marginal_relevance_search_by_vector">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">amax_marginal_relevance_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.amax_marginal_relevance_search_by_vector" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs selected using the maximal marginal relevance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.as_retriever">
<span class="sig-name descname"><span class="pre">as_retriever</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="langchain_core.vectorstores.VectorStoreRetriever.html#langchain_core.vectorstores.VectorStoreRetriever" title="langchain_core.vectorstores.VectorStoreRetriever"><span class="pre">VectorStoreRetriever</span></a></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.as_retriever" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return VectorStoreRetriever initialized from this VectorStore.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>search_type</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) ‚Äì Defines the type of search that
the Retriever should perform.
Can be ‚Äúsimilarity‚Äù (default), ‚Äúmmr‚Äù, or
‚Äúsimilarity_score_threshold‚Äù.</p></li>
<li><p><strong>search_kwargs</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>]</em>) ‚Äì <p>Keyword arguments to pass to the
search function. Can include things like:</p>
<blockquote>
<div><p>k: Amount of documents to return (Default: 4)
score_threshold: Minimum relevance threshold</p>
<blockquote>
<div><p>for similarity_score_threshold</p>
</div></blockquote>
<p>fetch_k: Amount of documents to pass to MMR algorithm (Default: 20)
lambda_mult: Diversity of results returned by MMR;</p>
<blockquote>
<div><p>1 for minimum diversity and 0 for maximum. (Default: 0.5)</p>
</div></blockquote>
<p>filter: Filter by document metadata</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Retriever class for VectorStore.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="langchain_core.vectorstores.VectorStoreRetriever.html#langchain_core.vectorstores.VectorStoreRetriever" title="langchain_core.vectorstores.VectorStoreRetriever">VectorStoreRetriever</a></p>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Retrieve more documents with higher diversity</span>
<span class="c1"># Useful if your dataset has many similar documents</span>
<span class="n">docsearch</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
    <span class="n">search_type</span><span class="o">=</span><span class="s2">&quot;mmr&quot;</span><span class="p">,</span>
    <span class="n">search_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;k&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;lambda_mult&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Fetch more documents for the MMR algorithm to consider</span>
<span class="c1"># But only return the top 5</span>
<span class="n">docsearch</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
    <span class="n">search_type</span><span class="o">=</span><span class="s2">&quot;mmr&quot;</span><span class="p">,</span>
    <span class="n">search_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;k&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;fetch_k&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Only retrieve documents that have a relevance score</span>
<span class="c1"># Above a certain threshold</span>
<span class="n">docsearch</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
    <span class="n">search_type</span><span class="o">=</span><span class="s2">&quot;similarity_score_threshold&quot;</span><span class="p">,</span>
    <span class="n">search_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;score_threshold&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Only get the single most similar document from the dataset</span>
<span class="n">docsearch</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span><span class="n">search_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;k&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>

<span class="c1"># Use a filter to only retrieve documents from a specific paper</span>
<span class="n">docsearch</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
    <span class="n">search_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;filter&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;paper_title&#39;</span><span class="p">:</span><span class="s1">&#39;GPT-4 Technical Report&#39;</span><span class="p">}}</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.asearch">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.asearch" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs most similar to query using specified search type.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asimilarity_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs most similar to query.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_by_vector">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asimilarity_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_by_vector" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs most similar to embedding vector.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_with_relevance_scores">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asimilarity_search_with_relevance_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_with_relevance_scores" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs and relevance scores in the range [0, 1], asynchronously.</p>
<p>0 is dissimilar, 1 is most similar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> ‚Äì input text</p></li>
<li><p><strong>k</strong> ‚Äì Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>**kwargs</strong> ‚Äì <p>kwargs to be passed to similarity search. Should include:
score_threshold: Optional, a floating point value between 0 to 1 to</p>
<blockquote>
<div><p>filter the resulting set of retrieved docs</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Tuples of (doc, similarity_score)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_with_score">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asimilarity_search_with_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.asimilarity_search_with_score" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Run similarity search with distance asynchronously.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.delete" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Delete the entities in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ids</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>optional</em>) ‚Äì The document_ids to delete.
Defaults to None.</p></li>
<li><p><strong>**kwargs</strong> ‚Äì Other keyword arguments that subclasses might use.
- filter (Optional[Dict[str, str]], optional): The filter to delete by.
- delete_all (Optional[bool], optional): Whether to drop the dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether the delete operation was successful.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.delete_dataset">
<span class="sig-name descname"><span class="pre">delete_dataset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.delete_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.delete_dataset" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Delete the collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.ds">
<span class="sig-name descname"><span class="pre">ds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.ds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.ds" title="Permalink to this definition">¬∂</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.force_delete_by_path">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">force_delete_by_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.force_delete_by_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.force_delete_by_path" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Force delete dataset by path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) ‚Äì path of the dataset to delete.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> ‚Äì if deeplake is not installed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.from_documents">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><span class="pre">Embeddings</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VST</span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.from_documents" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return VectorStore initialized from documents and embeddings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.from_texts">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><span class="pre">Embeddings</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadatas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'./deeplake/'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake" title="langchain_community.vectorstores.deeplake.DeepLake"><span class="pre">DeepLake</span></a></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.from_texts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.from_texts" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Create a Deep Lake dataset from a raw documents.</p>
<p>If a dataset_path is specified, the dataset will be persisted in that location,
otherwise by default at <cite>./deeplake</cite></p>
<p>Examples:
&gt;&gt;&gt; # Search using an embedding
&gt;&gt;&gt; vector_store = DeepLake.from_texts(
‚Ä¶        texts = &lt;the_texts_that_you_want_to_embed&gt;,
‚Ä¶        embedding_function = &lt;embedding_function_for_query&gt;,
‚Ä¶        k = &lt;number_of_items_to_return&gt;,
‚Ä¶        exec_option = &lt;preferred_exec_option&gt;,
‚Ä¶ )</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_path</strong> (<em>str</em>) ‚Äì <ul>
<li><p>The full path to the dataset. Can be:</p></li>
<li><dl class="simple">
<dt>Deep Lake cloud path of the form <code class="docutils literal notranslate"><span class="pre">hub://username/dataset_name</span></code>.</dt><dd><p>To write to Deep Lake cloud datasets,
ensure that you are logged in to Deep Lake
(use ‚Äòactiveloop login‚Äô from command line)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>AWS S3 path of the form <code class="docutils literal notranslate"><span class="pre">s3://bucketname/path/to/dataset</span></code>.</dt><dd><p>Credentials are required in either the environment</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Google Cloud Storage path of the form</dt><dd><p><code class="docutils literal notranslate"><span class="pre">gcs://bucketname/path/to/dataset</span></code> Credentials are required
in either the environment</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Local file system path of the form <code class="docutils literal notranslate"><span class="pre">./path/to/dataset</span></code> or</dt><dd><p><code class="docutils literal notranslate"><span class="pre">~/path/to/dataset</span></code> or <code class="docutils literal notranslate"><span class="pre">path/to/dataset</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>In-memory path of the form <code class="docutils literal notranslate"><span class="pre">mem://path/to/dataset</span></code> which doesn‚Äôt</dt><dd><p>save the dataset, but keeps it in memory instead.
Should be used only for testing as it does not persist.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>texts</strong> (<em>List</em><em>[</em><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><em>Document</em></a><em>]</em>) ‚Äì List of documents to add.</p></li>
<li><p><strong>embedding</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="../embeddings/langchain_core.embeddings.Embeddings.html#langchain_core.embeddings.Embeddings" title="langchain_core.embeddings.Embeddings"><em>Embeddings</em></a><em>]</em>) ‚Äì Embedding function. Defaults to None.
Note, in other places, it is called embedding_function.</p></li>
<li><p><strong>metadatas</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>dict</em><em>]</em><em>]</em>) ‚Äì List of metadatas. Defaults to None.</p></li>
<li><p><strong>ids</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) ‚Äì List of document IDs. Defaults to None.</p></li>
<li><p><strong>**kwargs</strong> ‚Äì Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Deep Lake dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#langchain_community.vectorstores.deeplake.DeepLake" title="langchain_community.vectorstores.deeplake.DeepLake">DeepLake</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.max_marginal_relevance_search">
<span class="sig-name descname"><span class="pre">max_marginal_relevance_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exec_option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.max_marginal_relevance_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.max_marginal_relevance_search" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs selected using maximal marginal relevance.</p>
<p>Maximal marginal relevance optimizes for similarity to query AND diversity
among selected documents.</p>
<p>Examples:
&gt;&gt;&gt; # Search using an embedding
&gt;&gt;&gt; data = vector_store.max_marginal_relevance_search(
‚Ä¶        query = &lt;query_to_search&gt;,
‚Ä¶        embedding_function = &lt;embedding_function_for_query&gt;,
‚Ä¶        k = &lt;number_of_items_to_return&gt;,
‚Ä¶        exec_option = &lt;preferred_exec_option&gt;,
‚Ä¶ )</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> ‚Äì Text to look up documents similar to.</p></li>
<li><p><strong>k</strong> ‚Äì Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>fetch_k</strong> ‚Äì Number of Documents for MMR algorithm.</p></li>
<li><p><strong>lambda_mult</strong> ‚Äì Value between 0 and 1. 0 corresponds
to maximum diversity and 1 to minimum.
Defaults to 0.5.</p></li>
<li><p><strong>exec_option</strong> (<em>str</em>) ‚Äì <p>Supports 3 ways to perform searching.
- ‚Äúpython‚Äù - Pure-python implementation running on the client.</p>
<blockquote>
<div><blockquote>
<div><p>Can be used for data stored anywhere. WARNING: using this
option with big datasets is discouraged due to potential
memory issues.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>‚Äùcompute_engine‚Äù - Performant C++ implementation of the Deep</dt><dd><p>Lake Compute Engine. Runs on the client and can be used for
any data stored in or connected to Deep Lake. It cannot be
used with in-memory or local datasets.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>‚Äùtensor_db‚Äù - Performant, fully-hosted Managed Tensor Database.</dt><dd><p>Responsible for storage and query execution. Only available
for data stored in the Deep Lake Managed Database. To store
datasets in this database, specify
<cite>runtime = {‚Äúdb_engine‚Äù: True}</cite> during dataset creation.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>deep_memory</strong> (<em>bool</em>) ‚Äì Whether to use the Deep Memory model for improving
search results. Defaults to False if deep_memory is not specified
in the Vector Store initialization. If True, the distance metric
is set to ‚Äúdeepmemory_distance‚Äù, which represents the metric with
which the model was trained. The search is performed using the Deep
Memory model. If False, the distance metric is set to ‚ÄúCOS‚Äù or
whatever distance metric user specifies.</p></li>
<li><p><strong>**kwargs</strong> ‚Äì Additional keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents selected by maximal marginal relevance.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> ‚Äì when MRR search is on but embedding function is
    not specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.max_marginal_relevance_search_by_vector">
<span class="sig-name descname"><span class="pre">max_marginal_relevance_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exec_option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.max_marginal_relevance_search_by_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.max_marginal_relevance_search_by_vector" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs selected using the maximal marginal relevance. Maximal marginal
relevance optimizes for similarity to query AND diversity among selected docs.</p>
<p>Examples:
&gt;&gt;&gt; data = vector_store.max_marginal_relevance_search_by_vector(
‚Ä¶        embedding=&lt;your_embedding&gt;,
‚Ä¶        fetch_k=&lt;elements_to_fetch_before_mmr_search&gt;,
‚Ä¶        k=&lt;number_of_items_to_return&gt;,
‚Ä¶        exec_option=&lt;preferred_exec_option&gt;,
‚Ä¶ )</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> ‚Äì Embedding to look up documents similar to.</p></li>
<li><p><strong>k</strong> ‚Äì Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>fetch_k</strong> ‚Äì Number of Documents to fetch for MMR algorithm.</p></li>
<li><p><strong>lambda_mult</strong> ‚Äì Number between 0 and 1 determining the degree of diversity.
0 corresponds to max diversity and 1 to min diversity. Defaults to 0.5.</p></li>
<li><p><strong>exec_option</strong> (<em>str</em>) ‚Äì <p>DeepLakeVectorStore supports 3 ways for searching.
Could be ‚Äúpython‚Äù, ‚Äúcompute_engine‚Äù or ‚Äútensor_db‚Äù. Defaults to
‚Äúpython‚Äù.
- ‚Äúpython‚Äù - Pure-python implementation running on the client.</p>
<blockquote>
<div><p>Can be used for data stored anywhere. WARNING: using this
option with big datasets is discouraged due to potential
memory issues.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>‚Äùcompute_engine‚Äù - Performant C++ implementation of the Deep</dt><dd><p>Lake Compute Engine. Runs on the client and can be used for
any data stored in or connected to Deep Lake. It cannot be used
with in-memory or local datasets.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>‚Äùtensor_db‚Äù - Performant, fully-hosted Managed Tensor Database.</dt><dd><p>Responsible for storage and query execution. Only available for
data stored in the Deep Lake Managed Database. To store datasets
in this database, specify <cite>runtime = {‚Äúdb_engine‚Äù: True}</cite>
during dataset creation.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>deep_memory</strong> (<em>bool</em>) ‚Äì Whether to use the Deep Memory model for improving
search results. Defaults to False if deep_memory is not specified
in the Vector Store initialization. If True, the distance metric
is set to ‚Äúdeepmemory_distance‚Äù, which represents the metric with
which the model was trained. The search is performed using the Deep
Memory model. If False, the distance metric is set to ‚ÄúCOS‚Äù or
whatever distance metric user specifies.</p></li>
<li><p><strong>**kwargs</strong> ‚Äì Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[Documents] - A list of documents.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.search" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs most similar to query using specified search type.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.similarity_search">
<span class="sig-name descname"><span class="pre">similarity_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.similarity_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs most similar to query.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Search using an embedding</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">query</span><span class="o">=&lt;</span><span class="n">your_query</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">k</span><span class="o">=&lt;</span><span class="n">num_items</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">exec_option</span><span class="o">=&lt;</span><span class="n">preferred_exec_option</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Run tql search:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">query</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">tql</span><span class="o">=</span><span class="s2">&quot;SELECT * WHERE id == &lt;id&gt;&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">exec_option</span><span class="o">=</span><span class="s2">&quot;compute_engine&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<em>int</em>) ‚Äì Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>query</strong> (<em>str</em>) ‚Äì Text to look up similar documents.</p></li>
<li><p><strong>**kwargs</strong> ‚Äì <p>Additional keyword arguments include:
embedding (Callable): Embedding function to use. Defaults to None.
distance_metric (str): ‚ÄòL2‚Äô for Euclidean, ‚ÄòL1‚Äô for Nuclear, ‚Äòmax‚Äô</p>
<blockquote>
<div><p>for L-infinity, ‚Äòcos‚Äô for cosine, ‚Äòdot‚Äô for dot product.
Defaults to ‚ÄòL2‚Äô.</p>
</div></blockquote>
<dl>
<dt>filter (Union[Dict, Callable], optional): Additional filter</dt><dd><p>before embedding search.
- Dict: Key-value search on tensors of htype json,</p>
<blockquote>
<div><p>(sample must satisfy all key-value filters)
Dict = {‚Äútensor_1‚Äù: {‚Äúkey‚Äù: value}, ‚Äútensor_2‚Äù: {‚Äúkey‚Äù: value}}</p>
</div></blockquote>
<ul>
<li><p>Function: Compatible with <cite>deeplake.filter</cite>.</p></li>
</ul>
<p>Defaults to None.</p>
</dd>
<dt>exec_option (str): Supports 3 ways to perform searching.</dt><dd><p>‚Äôpython‚Äô, ‚Äòcompute_engine‚Äô, or ‚Äòtensor_db‚Äô. Defaults to ‚Äòpython‚Äô.
- ‚Äòpython‚Äô: Pure-python implementation for the client.</p>
<blockquote>
<div><p>WARNING: not recommended for big datasets.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>‚Äôcompute_engine‚Äô: C++ implementation of the Compute Engine for</dt><dd><p>the client. Not for in-memory or local datasets.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>‚Äôtensor_db‚Äô: Managed Tensor Database for storage and query.</dt><dd><p>Only for data in Deep Lake Managed Database.
Use <cite>runtime = {‚Äúdb_engine‚Äù: True}</cite> during dataset creation.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>deep_memory (bool): Whether to use the Deep Memory model for improving</dt><dd><p>search results. Defaults to False if deep_memory is not specified
in the Vector Store initialization. If True, the distance metric
is set to ‚Äúdeepmemory_distance‚Äù, which represents the metric with
which the model was trained. The search is performed using the Deep
Memory model. If False, the distance metric is set to ‚ÄúCOS‚Äù or
whatever distance metric user specifies.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents most similar to the query vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.similarity_search_by_vector">
<span class="sig-name descname"><span class="pre">similarity_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.similarity_search_by_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search_by_vector" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs most similar to embedding vector.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Search using an embedding</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">vector_store</span><span class="o">.</span><span class="n">similarity_search_by_vector</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">embedding</span><span class="o">=&lt;</span><span class="n">your_embedding</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">k</span><span class="o">=&lt;</span><span class="n">num_items_to_return</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">exec_option</span><span class="o">=&lt;</span><span class="n">preferred_exec_option</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> (<em>Union</em><em>[</em><em>List</em><em>[</em><em>float</em><em>]</em><em>, </em><em>np.ndarray</em><em>]</em>) ‚Äì Embedding to find similar docs.</p></li>
<li><p><strong>k</strong> (<em>int</em>) ‚Äì Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>**kwargs</strong> ‚Äì <p>Additional keyword arguments including:
filter (Union[Dict, Callable], optional):</p>
<blockquote>
<div><p>Additional filter before embedding search.
- <code class="docutils literal notranslate"><span class="pre">Dict</span></code> - Key-value search on tensors of htype json. True</p>
<blockquote>
<div><p>if all key-value filters are satisfied.
Dict = {‚Äútensor_name_1‚Äù: {‚Äúkey‚Äù: value},</p>
<blockquote>
<div><p>‚Äùtensor_name_2‚Äù: {‚Äúkey‚Äù: value}}</p>
</div></blockquote>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Function</span></code> - Any function compatible with</dt><dd><p><cite>deeplake.filter</cite>.</p>
</dd>
</dl>
</li>
</ul>
<p>Defaults to None.</p>
</div></blockquote>
<dl>
<dt>exec_option (str): Options for search execution include</dt><dd><p>‚Äùpython‚Äù, ‚Äúcompute_engine‚Äù, or ‚Äútensor_db‚Äù. Defaults to
‚Äúpython‚Äù.
- ‚Äúpython‚Äù - Pure-python implementation running on the client.</p>
<blockquote>
<div><p>Can be used for data stored anywhere. WARNING: using this
option with big datasets is discouraged due to potential
memory issues.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>‚Äùcompute_engine‚Äù - Performant C++ implementation of the Deep</dt><dd><p>Lake Compute Engine. Runs on the client and can be used for
any data stored in or connected to Deep Lake. It cannot be
used with in-memory or local datasets.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>‚Äùtensor_db‚Äù - Performant, fully-hosted Managed Tensor Database.</dt><dd><p>Responsible for storage and query execution. Only available
for data stored in the Deep Lake Managed Database.
To store datasets in this database, specify
<cite>runtime = {‚Äúdb_engine‚Äù: True}</cite> during dataset creation.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>distance_metric (str): <cite>L2</cite> for Euclidean, <cite>L1</cite> for Nuclear,</dt><dd><p><cite>max</cite> for L-infinity distance, <cite>cos</cite> for cosine similarity,
‚Äòdot‚Äô for dot product. Defaults to <cite>L2</cite>.</p>
</dd>
<dt>deep_memory (bool): Whether to use the Deep Memory model for improving</dt><dd><p>search results. Defaults to False if deep_memory is not specified
in the Vector Store initialization. If True, the distance metric
is set to ‚Äúdeepmemory_distance‚Äù, which represents the metric with
which the model was trained. The search is performed using the Deep
Memory model. If False, the distance metric is set to ‚ÄúCOS‚Äù or
whatever distance metric user specifies.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents most similar to the query vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.similarity_search_with_relevance_scores">
<span class="sig-name descname"><span class="pre">similarity_search_with_relevance_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search_with_relevance_scores" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Return docs and relevance scores in the range [0, 1].</p>
<p>0 is dissimilar, 1 is most similar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> ‚Äì input text</p></li>
<li><p><strong>k</strong> ‚Äì Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>**kwargs</strong> ‚Äì <p>kwargs to be passed to similarity search. Should include:
score_threshold: Optional, a floating point value between 0 to 1 to</p>
<blockquote>
<div><p>filter the resulting set of retrieved docs</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Tuples of (doc, similarity_score)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_community.vectorstores.deeplake.DeepLake.similarity_search_with_score">
<span class="sig-name descname"><span class="pre">similarity_search_with_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/langchain_community/vectorstores/deeplake.html#DeepLake.similarity_search_with_score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_community.vectorstores.deeplake.DeepLake.similarity_search_with_score" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Run similarity search with Deep Lake with distance returned.</p>
<p>Examples:
&gt;&gt;&gt; data = vector_store.similarity_search_with_score(
‚Ä¶     query=&lt;your_query&gt;,
‚Ä¶     embedding=&lt;your_embedding_function&gt;
‚Ä¶     k=&lt;number_of_items_to_return&gt;,
‚Ä¶     exec_option=&lt;preferred_exec_option&gt;,
‚Ä¶ )</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) ‚Äì Query text to search for.</p></li>
<li><p><strong>k</strong> (<em>int</em>) ‚Äì Number of results to return. Defaults to 4.</p></li>
<li><p><strong>**kwargs</strong> ‚Äì <p>Additional keyword arguments. Some of these arguments are:
distance_metric: <cite>L2</cite> for Euclidean, <cite>L1</cite> for Nuclear, <cite>max</cite> L-infinity</p>
<blockquote>
<div><p>distance, <cite>cos</cite> for cosine similarity, ‚Äòdot‚Äô for dot product.
Defaults to <cite>L2</cite>.</p>
</div></blockquote>
<dl>
<dt>filter (Optional[Dict[str, str]]): Filter by metadata. Defaults to None.</dt><dd><p>embedding_function (Callable): Embedding function to use. Defaults
to None.</p>
</dd>
<dt>exec_option (str): DeepLakeVectorStore supports 3 ways to perform</dt><dd><p>searching. It could be either ‚Äúpython‚Äù, ‚Äúcompute_engine‚Äù or
‚Äútensor_db‚Äù. Defaults to ‚Äúpython‚Äù.
- ‚Äúpython‚Äù - Pure-python implementation running on the client.</p>
<blockquote>
<div><p>Can be used for data stored anywhere. WARNING: using this
option with big datasets is discouraged due to potential
memory issues.</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>‚Äùcompute_engine‚Äù - Performant C++ implementation of the Deep</dt><dd><p>Lake Compute Engine. Runs on the client and can be used for
any data stored in or connected to Deep Lake. It cannot be used
with in-memory or local datasets.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>‚Äùtensor_db‚Äù - Performant, fully-hosted Managed Tensor Database.</dt><dd><p>Responsible for storage and query execution. Only available for
data stored in the Deep Lake Managed Database. To store datasets
in this database, specify <cite>runtime = {‚Äúdb_engine‚Äù: True}</cite>
during dataset creation.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>deep_memory (bool): Whether to use the Deep Memory model for improving</dt><dd><p>search results. Defaults to False if deep_memory is not specified
in the Vector Store initialization. If True, the distance metric
is set to ‚Äúdeepmemory_distance‚Äù, which represents the metric with
which the model was trained. The search is performed using the Deep
Memory model. If False, the distance metric is set to ‚ÄúCOS‚Äù or
whatever distance metric user specifies.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>List of documents most similar to the query</dt><dd><p>text with distance in float.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Tuple[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>, float]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<h1>Examples using DeepLake<a class="headerlink" href="#langchain-community-vectorstores-deeplake-deeplake" title="Permalink to this heading">¬∂</a></h1>
<ul class="simple">
<li><p><a class="reference external" href="https://python.langchain.com/docs/integrations/vectorstores/activeloop_deeplake">Activeloop Deep Lake</a></p></li>
<li><p><a class="reference external" href="https://python.langchain.com/docs/use_cases/question_answering/how_to/code/twitter-the-algorithm-analysis-deeplake">Analysis of Twitter the-algorithm source code with LangChain, GPT4 and Activeloop‚Äôs Deep Lake</a></p></li>
<li><p><a class="reference external" href="https://python.langchain.com/docs/use_cases/question_answering/how_to/code/code-analysis-deeplake">Use LangChain, GPT and Activeloop‚Äôs Deep Lake to work with code base</a></p></li>
<li><p><a class="reference external" href="https://python.langchain.com/docs/use_cases/question_answering/integrations/semantic-search-over-chat">QA using Activeloop‚Äôs DeepLake</a></p></li>
<li><p><a class="reference external" href="https://python.langchain.com/docs/modules/data_connection/retrievers/self_query/activeloop_deeplake_self_query">Deep Lake</a></p></li>
</ul>
</section>


      </div>
    <div class="container">
      <footer class="sk-content-footer">
            &copy; 2023, LangChain, Inc..
          Last updated on Feb 13, 2024.
          <a href="../_sources/vectorstores/langchain_community.vectorstores.deeplake.DeepLake.rst.txt" rel="nofollow">Show this page source</a>
      </footer>
    </div>
  </div>
</div>
<script src="../_static/js/vendor/bootstrap.min.js"></script>
<script>
$(document).ready(function() {
    /* Add a [>>>] button on the top-right corner of code samples to hide
     * the >>> and ... prompts and the output and thus make the code
     * copyable. */
    var div = $('.highlight-python .highlight,' +
                '.highlight-python3 .highlight,' +
                '.highlight-pycon .highlight,' +
		'.highlight-default .highlight')
    var pre = div.find('pre');

    // get the styles from the current theme
    pre.parent().parent().css('position', 'relative');
    var hide_text = 'Hide prompts and outputs';
    var show_text = 'Show prompts and outputs';

    // create and add the button to all the code blocks that contain >>>
    div.each(function(index) {
        var jthis = $(this);
        if (jthis.find('.gp').length > 0) {
            var button = $('<span class="copybutton">&gt;&gt;&gt;</span>');
            button.attr('title', hide_text);
            button.data('hidden', 'false');
            jthis.prepend(button);
        }
        // tracebacks (.gt) contain bare text elements that need to be
        // wrapped in a span to work with .nextUntil() (see later)
        jthis.find('pre:has(.gt)').contents().filter(function() {
            return ((this.nodeType == 3) && (this.data.trim().length > 0));
        }).wrap('<span>');
    });

    // define the behavior of the button when it's clicked
    $('.copybutton').click(function(e){
        e.preventDefault();
        var button = $(this);
        if (button.data('hidden') === 'false') {
            // hide the code output
            button.parent().find('.go, .gp, .gt').hide();
            button.next('pre').find('.gt').nextUntil('.gp, .go').css('visibility', 'hidden');
            button.css('text-decoration', 'line-through');
            button.attr('title', show_text);
            button.data('hidden', 'true');
        } else {
            // show the code output
            button.parent().find('.go, .gp, .gt').show();
            button.next('pre').find('.gt').nextUntil('.gp, .go').css('visibility', 'visible');
            button.css('text-decoration', 'none');
            button.attr('title', hide_text);
            button.data('hidden', 'false');
        }
    });

	/*** Add permalink buttons next to glossary terms ***/
	$('dl.glossary > dt[id]').append(function() {
		return ('<a class="headerlink" href="#' +
			    this.getAttribute('id') +
			    '" title="Permalink to this term">¬∂</a>');
	});
});

</script>
    
</body>
</html>